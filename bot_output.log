/Users/jcastle/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
2025-04-16 23:26:54,417 - INFO - Initializing Discord bot
2025-04-16 23:26:54,420 - INFO - Connected to database at /Users/jcastle/Developer/chatgpt_discord_bot/config/data/messages.db
2025-04-16 23:26:54,420 - INFO - Database queue initialized with 1 worker(s)
2025-04-16 23:26:54,421 - INFO - Database tables created successfully
2025-04-16 23:26:54,421 - INFO - MessageMonitor initialized with AI content analysis
2025-04-16 23:26:54,421 - INFO - Message monitoring service initialized with AI content analysis
2025-04-16 23:26:54,421 - INFO - Connected to database at /Users/jcastle/Developer/chatgpt_discord_bot/config/data/ai_interactions.db
2025-04-16 23:26:54,422 - INFO - Database queue initialized with 1 worker(s)
2025-04-16 23:26:54,422 - INFO - Database tables created successfully
2025-04-16 23:26:54,422 - INFO - AIInteractionLogger initialized
2025-04-16 23:26:54,422 - INFO - AI interaction logging service initialized
2025-04-16 23:26:55,171 - INFO - Discord OAuth2 configured with redirect URI: http://127.0.0.1:8050/callback
2025-04-16 23:26:55,171 - INFO - Discord auth manager initialized
2025-04-16 23:26:55,174 - INFO - Dashboard initialized with Discord SSO authentication
2025-04-16 23:26:55,174 - INFO - Dashboard initialized with Discord SSO authentication
2025-04-16 23:26:55,174 - INFO - TaskScheduler initialized with timezone: America/Los_Angeles
2025-04-16 23:26:55,174 - INFO - Task scheduler initialized with timezone: America/Los_Angeles
2025-04-16 23:26:55,175 - INFO - Loaded previous colors from previous_role_colors.json
2025-04-16 23:26:55,175 - INFO - Registered callback function: change_role_colors
2025-04-16 23:26:55,175 - INFO - Registered role color manager with task manager
2025-04-16 23:26:55,175 - INFO - Task infrastructure initialized
2025-04-16 23:26:55,602 - INFO - AI clients initialized
2025-04-16 23:26:55,603 - INFO - Starting Discord bot
[2025-04-16 23:26:55] [INFO    ] discord.client: logging in using static token
2025-04-16 23:26:56,000 - INFO - Loading cogs...
2025-04-16 23:26:56,000 - INFO - Registered AI commands group
2025-04-16 23:26:56,000 - INFO - AI commands cog loaded
2025-04-16 23:26:56,002 - INFO - Premium roles cog loaded
2025-04-16 23:26:56,002 - INFO - User state cog loaded
2025-04-16 23:26:56,002 - INFO - Image generation cog loaded
2025-04-16 23:26:56,002 - INFO - Dashboard cog loaded
2025-04-16 23:26:56,003 - INFO - Loaded color cycles from data/files/role_color_cycles.json
2025-04-16 23:26:56,003 - INFO - Color command group registered
2025-04-16 23:26:56,003 - INFO - Role color cog loaded
2025-04-16 23:26:56,004 - INFO - Loaded 4 message listeners from data/files/message_listeners.json
2025-04-16 23:26:56,004 - INFO - Listener command group registered
2025-04-16 23:26:56,004 - INFO - Message listeners cog loaded
2025-04-16 23:26:56,004 - INFO - Converted time from 03:00:00 America/Los_Angeles to 10:00:00 UTC
2025-04-16 23:26:56,004 - INFO - Scheduled task role_color_cycle_update to run at 03:00:00 America/Los_Angeles
2025-04-16 23:26:56,005 - INFO - Started task role_color_cycle_update
2025-04-16 23:26:56,005 - INFO - Role color cycle task scheduled with ID: role_color_cycle_update at 03:00:00 America/Los_Angeles
2025-04-16 23:26:56,005 - INFO - All cogs loaded successfully
[2025-04-16 23:26:56] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: c3ce36f698cfbbb796fa92d5807afc48).
2025-04-16 23:26:58,283 - INFO - Task role_color_cycle_update is ready and waiting for scheduled time 03:00:00 America/Los_Angeles (UTC: 10:00:00)
2025-04-16 23:26:58,283 - INFO - Logged in as Test B0t#8922
2025-04-16 23:26:58,283 - INFO - Finding/creating response channel in haunter's server
2025-04-16 23:26:58,284 - INFO - Response channel cached for haunter's server: ðŸ¤– (ID: 1358683276780503230)
2025-04-16 23:26:58,284 - INFO - Registering scheduled tasks...
2025-04-16 23:26:58,284 - INFO - Registered callback function: example_interval_task
2025-04-16 23:26:58,284 - INFO - Registered callback function: change_role_colors
2025-04-16 23:26:58,284 - INFO - Registered callback function: send_daily_announcement
2025-04-16 23:26:58,284 - INFO - Successfully registered task-related commands
2025-04-16 23:26:58,284 - INFO - Syncing commands with Discord...
2025-04-16 23:26:58,285 - INFO - Message Listeners Cog ready with 4 active listeners
2025-04-16 23:27:45,509 - INFO - Commands synced successfully
2025-04-16 23:27:45,512 - INFO - Registered commands: ask, add_premium_role, remove_premium_role, list_premium_roles, clear_history, make, dashboard, color, listener, remind_me, list_tasks, toggle_task, add_interval_task, change_role_color
2025-04-16 23:27:45,512 - INFO - Starting all enabled tasks from JSON configuration...
2025-04-16 23:27:45,513 - INFO - Converted time from 00:00:00 America/Los_Angeles to 07:00:00 UTC
2025-04-16 23:27:45,514 - INFO - Scheduled task role_color_change to run at 00:00:00 America/Los_Angeles
2025-04-16 23:27:45,514 - INFO - Registered time-based task: role_color_change
2025-04-16 23:27:45,515 - INFO - Started task role_color_change
2025-04-16 23:27:45,515 - INFO - Started task: role_color_change
2025-04-16 23:27:45,515 - INFO - Scheduled tasks started
2025-04-16 23:27:45,515 - INFO - Starting dashboard server on 127.0.0.1:8050
Dash is running on http://127.0.0.1:8050/

2025-04-16 23:27:45,515 - INFO - Dashboard server started at http://127.0.0.1:8050
2025-04-16 23:27:45,517 - INFO - Dashboard started at http://127.0.0.1:8050
2025-04-16 23:27:45,518 - INFO - Task role_color_change is ready and waiting for scheduled time 00:00:00 America/Los_Angeles (UTC: 07:00:00)
 * Serving Flask app 'app.dashboard.dashboard'
 * Debug mode: off
Address already in use
Port 8050 is in use by another program. Either identify and stop that program, or start the server with a different port.
2025-04-16 23:27:50,560 - INFO [2025-04-16 23:27:50] [ERROR   ] discord.app_commands.tree: Ignoring exception[2025-04-16 23:28:04] [ERROR   ] discord.app_commands.tree: Ignoring exception in command 'set'
Traceback (most recent call last):
  File "/Users/jcastle/Library/Python/3.9/lib/python/site-packages/discord/app_commands/commands.py", line 828, in _do_call
    return await self._callback(interaction, **params)  # type: ignore
  File "/Users/jcastle/Developer/chatgpt_discord_bot/app/discord/cogs/role_color_cog.py", line 40, in color_set
    has_access, premium_role = await self._check_premium_access(interaction)
  File "/Users/jcastle/Developer/chatgpt_discord_bot/app/discord/cogs/role_color_cog.py", line 363, in _check_premium_access
    await interaction.response.send_message(embed=embed, ephemeral=True)
  File "/Users/jcastle/Library/Python/3.9/lib/python/site-packages/discord/interactions.py", line 801, in send_message
    await adapter.create_interaction_response(
  File "/Users/jcastle/Library/Python/3.9/lib/python/site-packages/discord/webhook/async_.py", line 219, in request
    raise NotFound(response, data)
discord.errors.NotFound: 404 Not Found (error code: 10062): Unknown interaction

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jcastle/Library/Python/3.9/lib/python/site-packages/discord/app_commands/tree.py", line 1248, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "/Users/jcastle/Library/Python/3.9/lib/python/site-packages/discord/app_commands/commands.py", line 853, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
  File "/Users/jcastle/Library/Python/3.9/lib/python/site-packages/discord/app_commands/commands.py", line 846, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'set' raised an exception: NotFound: 404 Not Found (error code: 10062): Unknown interaction
 exception in command 'set'
Traceback (most recent call last):
  File "/Users/jcastle/Library/Python/3.9/lib/python/site-packages/discord/app_commands/commands.py", line 828, in _do_call
    return await self._callback(interaction, **params)  # type: ignore
  File "/Users/jcastle/Developer/chatgpt_discord_bot/app/discord/cogs/role_color_cog.py", line 40, in color_set
    has_access, premium_role = await self._check_premium_access(interaction)
  File "/Users/jcastle/Developer/chatgpt_discord_bot/app/discord/cogs/role_color_cog.py", line 363, in _check_premium_access
    await interaction.response.send_message(embed=embed, ephemeral=True)
  File "/Users/jcastle/Library/Python/3.9/lib/python/site-packages/discord/interactions.py", line 801, in send_message
    await adapter.create_interaction_response(
  File "/Users/jcastle/Library/Python/3.9/lib/python/site-packages/discord/webhook/async_.py", line 219, in request
    raise NotFound(response, data)
discord.errors.NotFound: 404 Not Found (error code: 10062): Unknown interaction

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jcastle/Library/Python/3.9/lib/python/site-packages/discord/app_commands/tree.py", line 1248, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "/Users/jcastle/Library/Python/3.9/lib/python/site-packages/discord/app_commands/commands.py", line 853, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
  File "/Users/jcastle/Library/Python/3.9/lib/python/site-packages/discord/app_commands/commands.py", line 846, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'set' raised an exception: NotFound: 404 Not Found (error code: 10062): Unknown interaction
